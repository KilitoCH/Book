# 记录在写Ns3lab项目过程中等待解决的问题，记录进度

## 2021/1/5
### ToDo
* [ ] 添加镜像的地方应该可以做一个**镜像名检查**，检查源里是否有这么一个镜像
* [ ] 增加实验的地方应该可以有一个**镜像下拉列表**，直接双向绑定镜像列表，每次刷新的时候用mounted获取最新的，但是这里有个问题，这个地方应该是异步的，任何人都可以添加镜像，这样似乎总是没办法保证这个是与数据库保持一致。何时刷新？
* [ ] 在`classManage`中增加对人员的管理，应该需要做到获取学生列表，然后对每一个学生都可以选择删除，也可以选择增加学生。
* [ ] 正巧这回想正式用下ipython这个神器。yum install ipython之后（还挺大的。。）
* [ ] container.exec_run直接对应着Docker API中的`containers/{id}/exec``/exec/{id}/start`和`/exec/{id}/json`。而且在执行第一个命令之后会直接把exec_id传到后面，最后执行完毕直接获得`json`格式的结果。
### BUG
* [x] 班级管理中增加实验之后不会自动刷新（solved）
* [ ] 在前端开发的时候也要注意一个问题！我发现在mounted中写的方法，由于是http请求，他们可能并不是顺序执行的，它们都需要等待后端的返回值，所以尽管在语句上他们是顺次执行的，但是实际执行时候非常可能乱序。所以对于有先后关系的方法（比如下一个方法依赖于上一个方法的返回值的时候）最好使用then语法，等待上一个方法确定返回之后再执行下一个。

### Note
* xTerm使用AddonAttach连接上WebSocket之后就不用管onData方法了，因为他会如实地执行WebSocket的内容，也就是你一旦键入他就会转发到后端，前端显示什么完全取决于后端怎么操作这些数据。
  比如说如果后端设置的是只要收到数据就往前端转发，那么前端的效果就会像普通打字一样，打什么显示什么。但是现在有个问题：
  * [ ] 回车符需要单独处理，然后应该设置不能覆盖前面的输入，删除需要单独处理。看是在前端还是在后端处理（还是后端屏蔽这些字符，全部由前端处理）
* 暂时用gitHub上一个现成的方案连接到Docker了，做一个转发。后续应该继续看怎么用python实现。[仓库地址](https://github.com/bigheadbros/docker-web-terminal)
* Go中的依赖引入时有时候会无法访问，所以应该从系统变量中设置代理。[参考解决方案](https://blog.csdn.net/maxdaic/article/details/107040078)